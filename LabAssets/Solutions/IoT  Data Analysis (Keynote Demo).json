{"paragraphs":[{"text":"%md\n## Using Zeppelin for Data Science Tasks: Data Ingestion, Data Formatting, Exploratory Analysis and Model Building.\n\n\nData Science involves a typical sequence of tasks: aquiring data, cleaning it, analyzing it for relationships, and then building a model. Zeppelin allows you to do all these from one unified interface.","dateUpdated":"2017-09-28T19:48:41+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"editorSetting":{}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567107_352505623","id":"20150601-165313_1826054142","dateCreated":"2017-09-28T17:09:27+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:6078","user":"anonymous","dateFinished":"2017-09-28T19:48:41+0000","dateStarted":"2017-09-28T19:48:41+0000","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Using Zeppelin for Data Science Tasks: Data Ingestion, Data Formatting, Exploratory Analysis and Model Building.</h2>\n<p>Data Science involves a typical sequence of tasks: aquiring data, cleaning it, analyzing it for relationships, and then building a model. Zeppelin allows you to do all these from one unified interface.</p>\n</div>"}]}},{"text":"%md\n## First, let's load the data into HDFS and make sure we can access it.","dateUpdated":"2017-09-28T19:48:41+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"editorSetting":{}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567112_349042882","id":"20150601-165442_638366896","dateCreated":"2017-09-28T17:09:27+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6079","user":"anonymous","dateFinished":"2017-09-28T19:48:41+0000","dateStarted":"2017-09-28T19:48:41+0000","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>First, let&rsquo;s load the data into HDFS and make sure we can access it.</h2>\n</div>"}]}},{"text":"%sh\nwhoami\n\ncurl -sSL -O \"https://www.dropbox.com/s/ggj1robwxpl9vrt/iotdemo-notebook-data.zip\"\nunzip iotdemo-notebook-data.zip\n\nhadoop fs -mkdir -p /user/zeppelin/iotdemo\nhadoop fs -copyFromLocal -f trainingData /user/zeppelin/iotdemo/\nhadoop fs -copyFromLocal -f enrichedEvents /user/zeppelin/iotdemo/\n\nhadoop fs -ls /user/zeppelin/iotdemo/","user":"anonymous","dateUpdated":"2017-09-28T19:48:41+0000","config":{"colWidth":12,"editorMode":"ace/mode/sh","tableHide":false,"results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"editorSetting":{"editOnDblClick":false,"language":"sh"}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567115_349427631","id":"20150812-230011_789008868","dateCreated":"2017-09-28T17:09:27+0000","dateStarted":"2017-09-28T19:48:41+0000","dateFinished":"2017-09-28T19:48:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6080","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"zeppelin\nArchive:  iotdemo-notebook-data.zip\nreplace trainingData? [y]es, [n]o, [A]ll, [N]one, [r]ename:  NULL\n(EOF or read error, treating as \"[N]one\" ...)\nFound 2 items\n-rw-r--r--   1 zeppelin supergroup      63570 2017-09-28 19:48 /user/zeppelin/iotdemo/enrichedEvents\n-rw-r--r--   1 zeppelin supergroup      33084 2017-09-28 19:48 /user/zeppelin/iotdemo/trainingData\n"}]}},{"text":"%sh\nhadoop fs -cat /user/zeppelin/iotdemo/enrichedEvents | tail -n 10","user":"anonymous","dateUpdated":"2017-09-28T19:48:41+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/sh","editorHide":false,"results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"editorSetting":{"editOnDblClick":false,"language":"sh"}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567117_347119138","id":"20150601-170021_1937004013","dateCreated":"2017-09-28T17:09:27+0000","dateStarted":"2017-09-28T19:48:42+0000","dateFinished":"2017-09-28T19:48:44+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6081","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Overspeed,\"Y\",\"hours\",45,2773,-90.07,35.68,0,1,1\nLane Departure,\"Y\",\"hours\",45,2773,-90.04,35.19,1,1,0\nNormal,\"Y\",\"hours\",45,2773,-90.68,35.12,1,0,0\nNormal,\"Y\",\"hours\",45,2773,-91.14,34.96,0,0,0\nNormal,\"Y\",\"hours\",45,2773,-91.93,34.81,0,0,0\nNormal,\"Y\",\"hours\",45,2773,-92.31,34.78,0,1,0\nNormal,\"Y\",\"hours\",45,2773,-92.09,34.8,0,0,0\nNormal,\"Y\",\"hours\",45,2773,-91.93,34.81,0,0,0\nNormal,\"Y\",\"hours\",45,2773,-90.68,35.12,0,0,0\nNormal,\"Y\",\"hours\",45,2773,-91.74,34.89,0,0,0\n"}]}},{"text":"%md\n## Let's do some Exploratory Data Analysis so that we have a better grasp on the nature of this data set.","user":"anonymous","dateUpdated":"2017-09-28T19:48:41+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"editorSetting":{}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567117_347119138","id":"20150601-170447_179499526","dateCreated":"2017-09-28T17:09:27+0000","dateStarted":"2017-09-28T19:48:42+0000","dateFinished":"2017-09-28T19:48:42+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6082","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Let&rsquo;s do some Exploratory Data Analysis so that we have a better grasp on the nature of this data set.</h2>\n</div>"}]}},{"text":"%spark\nval sqlContext = new org.apache.spark.sql.SQLContext(sc)\n\nval eventsFile = sc.textFile(\"/user/zeppelin/iotdemo/enrichedEvents\")\n\ncase class Event(eventType: String, \n                isCertified: String, \n                paymentScheme: String, \n                hoursDriven: Int, \n                milesDriven: Int, \n                lat: Float, \n                long1: Float, \n                isFoggy: Int, \n                isRainy: Int, \n                isWindy: Int)\n\nval eventsRDD = eventsFile.map(s => s.split(\",\")).map(\n    s => Event(s(0),        //eventType\n            s(1).replaceAll(\"\\\"\", \"\"),  //isCertified\n            s(2).replaceAll(\"\\\"\", \"\"),  //paymentScheme\n            s(3).toInt,     //hoursDriven\n            s(4).toInt,     //milesDriven\n            s(5).toFloat,   //latitude\n            s(6).toFloat,   //longitude\n            s(7).toInt,     //isFoggy\n            s(8).toInt,     //isRainy\n            s(9).toInt      //isWindy\n        )\n    ).toDF()\n\n\neventsRDD.count\n\neventsRDD.registerTempTable(\"enrichedEvents\")","user":"anonymous","dateUpdated":"2017-09-28T19:48:42+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/text","editorHide":false,"results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"editorSetting":{"editOnDblClick":false,"language":"text"}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567118_348273385","id":"20150601-171008_2061583323","dateCreated":"2017-09-28T17:09:27+0000","dateStarted":"2017-09-28T19:48:42+0000","dateFinished":"2017-09-28T19:48:44+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6083","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"warning: there was one deprecation warning; re-run with -deprecation for details"}]}},{"text":"%sql\n\nselect * from enrichedEvents order by hoursDriven desc limit 10\n","user":"anonymous","dateUpdated":"2017-09-28T19:48:42+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/sql","editorHide":false,"results":[{"graph":{"mode":"table","height":300,"optionOpen":true,"keys":[{"name":"eventType","index":0,"aggr":"sum"}],"values":[{"name":"isCertified","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"eventType","index":0,"aggr":"sum"},"yAxis":{"name":"isCertified","index":1,"aggr":"sum"}}}}],"enabled":true,"editorSetting":{"editOnDblClick":false,"language":"sql"}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567120_358276856","id":"20150601-171149_802050103","dateCreated":"2017-09-28T17:09:27+0000","dateStarted":"2017-09-28T19:48:42+0000","dateFinished":"2017-09-28T19:48:45+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6084","results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"eventType\tisCertified\tpaymentScheme\thoursDriven\tmilesDriven\tlat\tlong1\tisFoggy\tisRainy\tisWindy\nLane Departure\tN\tmiles\t90\t4300\t-91.59\t41.7\t1\t0\t0\nUnsafe tail distance\tN\tmiles\t90\t4300\t-87.67\t41.87\t1\t1\t1\nNormal\tN\tmiles\t90\t4300\t-91.47\t41.74\t0\t0\t0\nNormal\tN\tmiles\t90\t4300\t-89.91\t40.86\t0\t0\t0\nOverspeed\tN\tmiles\t90\t4300\t-93.04\t41.71\t1\t0\t0\nNormal\tN\tmiles\t90\t4300\t-89.52\t40.7\t0\t0\t0\nNormal\tN\tmiles\t90\t4300\t-91.05\t41.72\t0\t0\t1\nNormal\tN\tmiles\t90\t4300\t-90.29\t40.96\t0\t0\t1\nLane Departure\tN\tmiles\t90\t4300\t-88.42\t41.11\t1\t1\t1\nUnsafe following ...\tN\tmiles\t90\t4300\t-88.77\t40.76\t0\t1\t1"}]}},{"text":"%md\n## Do certified drivers have less violations?","dateUpdated":"2017-09-28T19:48:42+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"editorSetting":{}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567122_359046354","id":"20150601-171831_1908074493","dateCreated":"2017-09-28T17:09:27+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6085","user":"anonymous","dateFinished":"2017-09-28T19:48:42+0000","dateStarted":"2017-09-28T19:48:42+0000","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Do certified drivers have less violations?</h2>\n</div>"}]}},{"text":"%sql\n\nselect eventType, count(*) occurences from enrichedEvents group by eventType","user":"anonymous","dateUpdated":"2017-09-28T19:48:42+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/sql","editorHide":false,"results":[{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"keys":[{"name":"eventType","index":0,"aggr":"sum"}],"values":[{"name":"occurences","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"eventType","index":0,"aggr":"sum"}}},"helium":{}}],"enabled":true,"editorSetting":{"editOnDblClick":false,"language":"sql"}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567124_356737860","id":"20150601-222257_227670657","dateCreated":"2017-09-28T17:09:27+0000","dateStarted":"2017-09-28T19:48:44+0000","dateFinished":"2017-09-28T19:48:46+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6086","results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"eventType\toccurences\nOverspeed\t50\nLane Departure\t37\nUnsafe tail distance\t38\nNormal\t1200\nUnsafe following ...\t34"}]}},{"text":"%sql\n\nselect isCertified, count(*) numViolations from enrichedEvents where eventType in (\"Unsafe tail distance\", \"Overspeed\", \"Lane Departure\", \"Unsafe following distance\") group by isCertified","user":"anonymous","dateUpdated":"2017-09-28T19:48:42+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/sql","editorHide":false,"results":[{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"keys":[{"name":"isCertified","index":0,"aggr":"sum"}],"values":[{"name":"numViolations","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"isCertified","index":0,"aggr":"sum"}}},"helium":{}}],"enabled":true,"editorSetting":{"editOnDblClick":false,"language":"sql"}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567126_357507358","id":"20150601-233700_861079238","dateCreated":"2017-09-28T17:09:27+0000","dateStarted":"2017-09-28T19:48:45+0000","dateFinished":"2017-09-28T19:48:47+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6087","results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"isCertified\tnumViolations\nY\t97\nN\t62"}]}},{"text":"%sql\nselect eventType, isCertified, hoursDriven from enrichedEvents group by eventType, isCertified, hoursDriven","user":"anonymous","dateUpdated":"2017-09-28T19:48:42+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/sql","editorHide":false,"results":[{"graph":{"mode":"multiBarChart","height":300,"optionOpen":true,"keys":[{"name":"hoursDriven","index":2,"aggr":"sum","$$hashKey":"object:8654"}],"values":[{"name":"eventType","index":0,"aggr":"sum","$$hashKey":"object:8656"}],"groups":[],"scatter":{"xAxis":{"name":"eventType","index":0,"aggr":"sum"},"yAxis":{"name":"hoursDriven","index":2,"aggr":"sum"},"group":{"name":"hoursDriven","index":2,"aggr":"sum"}}}}],"enabled":true,"editorSetting":{"editOnDblClick":false,"language":"sql"}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567128_355198865","id":"20150602-005637_838211375","dateCreated":"2017-09-28T17:09:27+0000","dateStarted":"2017-09-28T19:48:46+0000","dateFinished":"2017-09-28T19:48:48+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6088","results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"eventType\tisCertified\thoursDriven\nLane Departure\tN\t90\nNormal\tY\t50\nLane Departure\tY\t49\nOverspeed\tN\t70\nOverspeed\tY\t53\nUnsafe following ...\tY\t57\nNormal\tY\t52\nUnsafe following ...\tY\t50\nLane Departure\tY\t58\nLane Departure\tY\t56\nOverspeed\tY\t51\nNormal\tY\t46\nNormal\tY\t60\nUnsafe following ...\tY\t53\nOverspeed\tY\t56\nUnsafe following ...\tN\t70\nNormal\tY\t58\nUnsafe following ...\tY\t52\nNormal\tN\t0\nLane Departure\tY\t57\nUnsafe tail distance\tY\t50\nOverspeed\tN\t0\nNormal\tN\t90\nNormal\tY\t51\nNormal\tN\t70\nLane Departure\tN\t0\nOverspeed\tY\t60\nOverspeed\tY\t45\nNormal\tY\t57\nOverspeed\tY\t49\nOverspeed\tY\t50\nLane Departure\tY\t51\nUnsafe following ...\tY\t45\nUnsafe following ...\tY\t59\nUnsafe following ...\tN\t90\nNormal\tY\t59\nUnsafe tail distance\tY\t53\nLane Departure\tY\t45\nOverspeed\tY\t52\nUnsafe tail distance\tY\t55\nUnsafe tail distance\tY\t57\nNormal\tY\t53\nUnsafe tail distance\tN\t0\nOverspeed\tN\t90\nUnsafe tail distance\tY\t56\nUnsafe tail distance\tY\t52\nNormal\tY\t47\nUnsafe tail distance\tY\t47\nUnsafe following ...\tY\t55\nOverspeed\tY\t59\nUnsafe tail distance\tY\t59\nNormal\tY\t55\nNormal\tY\t56\nUnsafe following ...\tY\t49\nNormal\tY\t54\nUnsafe tail distance\tY\t51\nUnsafe following ...\tN\t0\nOverspeed\tY\t58\nNormal\tY\t48\nUnsafe tail distance\tY\t49\nOverspeed\tY\t47\nNormal\tY\t45\nUnsafe tail distance\tY\t60\nUnsafe tail distance\tN\t90\nLane Departure\tY\t60\nLane Departure\tY\t54\nUnsafe following ...\tY\t58\nNormal\tY\t49\nLane Departure\tY\t46\nOverspeed\tY\t55\nUnsafe following ...\tY\t51\nLane Departure\tN\t70"}]}},{"text":"%md \n## Does fatigue cause violations?","dateUpdated":"2017-09-28T19:48:42+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":false,"results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"editorSetting":{"editOnDblClick":true,"language":"markdown"}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567128_355198865","id":"20150602-013120_170563003","dateCreated":"2017-09-28T17:09:27+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6089","user":"anonymous","dateFinished":"2017-09-28T19:48:42+0000","dateStarted":"2017-09-28T19:48:42+0000","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Does fatigue cause violations?</h2>\n</div>"}]}},{"text":"%sql\n\nselect hoursDriven, eventType, count(*) numOccurences from enrichedEvents where eventType not in (\"Normal\") group by hoursDriven, eventType order by hoursDriven\n\n","user":"anonymous","dateUpdated":"2017-09-28T19:48:42+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/sql","editorHide":false,"results":[{"graph":{"mode":"multiBarChart","height":232,"optionOpen":false,"keys":[{"name":"hoursDriven","index":0,"aggr":"sum"}],"values":[{"name":"numOccurences","index":2,"aggr":"count"}],"groups":[],"scatter":{"xAxis":{"name":"hoursDriven","index":0,"aggr":"sum"},"yAxis":{"name":"eventType","index":1,"aggr":"sum"}}}}],"enabled":true,"editorSetting":{"editOnDblClick":false,"language":"sql"}},"settings":{"params":{"eventType":"Normal"},"forms":{}},"apps":[],"jobName":"paragraph_1506618567129_354814116","id":"20150602-165735_472251841","dateCreated":"2017-09-28T17:09:27+0000","dateStarted":"2017-09-28T19:48:47+0000","dateFinished":"2017-09-28T19:48:49+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6090","results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"hoursDriven\teventType\tnumOccurences\n0\tUnsafe following ...\t8\n0\tOverspeed\t11\n0\tLane Departure\t9\n0\tUnsafe tail distance\t12\n45\tUnsafe following ...\t1\n45\tOverspeed\t5\n45\tLane Departure\t3\n46\tLane Departure\t1\n47\tOverspeed\t1\n47\tUnsafe tail distance\t2\n49\tUnsafe following ...\t4\n49\tUnsafe tail distance\t1\n49\tOverspeed\t1\n49\tLane Departure\t2\n50\tUnsafe tail distance\t2\n50\tUnsafe following ...\t1\n50\tOverspeed\t1\n51\tLane Departure\t3\n51\tOverspeed\t4\n51\tUnsafe following ...\t5\n51\tUnsafe tail distance\t2\n52\tUnsafe following ...\t1\n52\tUnsafe tail distance\t2\n52\tOverspeed\t2\n53\tUnsafe following ...\t1\n53\tOverspeed\t4\n53\tUnsafe tail distance\t2\n54\tLane Departure\t2\n55\tUnsafe tail distance\t3\n55\tOverspeed\t7\n55\tUnsafe following ...\t5\n56\tOverspeed\t4\n56\tUnsafe tail distance\t2\n56\tLane Departure\t1\n57\tUnsafe tail distance\t3\n57\tLane Departure\t1\n57\tUnsafe following ...\t2\n58\tOverspeed\t1\n58\tUnsafe following ...\t1\n58\tLane Departure\t1\n59\tOverspeed\t1\n59\tUnsafe tail distance\t1\n59\tUnsafe following ...\t1\n60\tOverspeed\t3\n60\tLane Departure\t3\n60\tUnsafe tail distance\t4\n70\tLane Departure\t7\n70\tOverspeed\t1\n70\tUnsafe following ...\t2\n90\tUnsafe following ...\t2\n90\tOverspeed\t4\n90\tLane Departure\t4\n90\tUnsafe tail distance\t2"}]}},{"text":"%sql\n\nSELECT IF(((`enrichedEvents`.`eventType` = 'Lane Departure') OR (`enrichedEvents`.`eventType` = 'Overspeed') OR (`enrichedEvents`.`eventType` = 'Unsafe following distance') OR (`enrichedEvents`.`eventType` = 'Unsafe tail distance')),'Lane Departure',`enrichedEvents`.`eventType`) AS `grouped_events`, `enrichedEvents`.`hoursDriven` AS `none_hoursdriven_ok`, SUM(1) AS `sum_number_of_records_ok` FROM `enrichedEvents` `enrichedEvents` GROUP BY IF(((`enrichedEvents`.`eventType` = 'Lane Departure') OR (`enrichedEvents`.`eventType` = 'Overspeed') OR (`enrichedEvents`.`eventType` = 'Unsafe following distance') OR (`enrichedEvents`.`eventType` = 'Unsafe tail distance')),'Lane Departure',`enrichedEvents`.`eventType`), `enrichedEvents`.`hoursDriven`\n","user":"anonymous","dateUpdated":"2017-09-28T19:48:42+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/sql","editorHide":false,"results":[{"graph":{"mode":"multiBarChart","height":302,"optionOpen":false,"keys":[{"name":"none_hoursdriven_ok","index":1,"aggr":"sum"}],"values":[{"name":"sum_number_of_records_ok","index":2,"aggr":"sum"}],"groups":[{"name":"grouped_events","index":0,"aggr":"sum"}],"scatter":{"xAxis":{"name":"grouped_events","index":0,"aggr":"sum"},"yAxis":{"name":"none_hoursdriven_ok","index":1,"aggr":"sum"}}}}],"enabled":true,"editorSetting":{"editOnDblClick":false,"language":"sql"}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567131_355583614","id":"20150602-165744_1812152248","dateCreated":"2017-09-28T17:09:27+0000","dateStarted":"2017-09-28T19:48:48+0000","dateFinished":"2017-09-28T19:48:50+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6091","results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"grouped_events\tnone_hoursdriven_ok\tsum_number_of_records_ok\nNormal\t57\t108\nNormal\t51\t166\nNormal\t45\t97\nNormal\t46\t13\nLane Departure\t57\t6\nLane Departure\t52\t5\nLane Departure\t90\t12\nLane Departure\t54\t2\nLane Departure\t49\t8\nLane Departure\t0\t40\nLane Departure\t47\t3\nNormal\t58\t31\nNormal\t90\t20\nLane Departure\t60\t10\nNormal\t48\t5\nNormal\t53\t88\nLane Departure\t51\t14\nNormal\t49\t61\nNormal\t60\t137\nNormal\t55\t94\nLane Departure\t55\t15\nLane Departure\t58\t3\nNormal\t59\t48\nNormal\t0\t35\nLane Departure\t53\t7\nNormal\t54\t54\nLane Departure\t56\t7\nNormal\t52\t48\nLane Departure\t50\t4\nNormal\t70\t57\nNormal\t50\t53\nNormal\t56\t73\nLane Departure\t70\t10\nLane Departure\t46\t1\nLane Departure\t59\t3\nNormal\t47\t12\nLane Departure\t45\t9"}]}},{"text":"%sql\n\nSELECT IF(((eventType = 'Lane Departure') OR (eventType = 'Overspeed') OR (eventType = 'Unsafe following distance') OR (eventType = 'Unsafe tail distance')),'Lane Departure', eventType) AS `grouped_events`, isCertified AS num_certified, SUM(1) AS sum_number_of_records FROM enrichedEvents enrichedEvents GROUP BY IF(((eventType = 'Lane Departure') OR (eventType = 'Overspeed') OR (eventType = 'Unsafe following distance') OR (eventType = 'Unsafe tail distance')),'Lane Departure', eventType), isCertified","user":"anonymous","dateUpdated":"2017-09-28T19:48:42+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/sql","editorHide":false,"results":[{"graph":{"mode":"multiBarChart","height":300,"optionOpen":true,"keys":[{"name":"grouped_events","index":0,"aggr":"sum","$$hashKey":"object:8685"}],"values":[{"name":"sum_number_of_records","index":2,"aggr":"sum","$$hashKey":"object:8689"}],"groups":[{"name":"num_certified","index":1,"aggr":"sum","$$hashKey":"object:8687"}],"scatter":{"xAxis":{"name":"grouped_events","index":0,"aggr":"sum"},"yAxis":{"name":"num_certified","index":1,"aggr":"sum"}}}}],"enabled":true,"editorSetting":{"editOnDblClick":false,"language":"sql"}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567131_355583614","id":"20150602-183904_189812181","dateCreated":"2017-09-28T17:09:27+0000","dateStarted":"2017-09-28T19:48:49+0000","dateFinished":"2017-09-28T19:48:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6092","results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"grouped_events\tnum_certified\tsum_number_of_records\nNormal\tY\t1088\nLane Departure\tN\t62\nLane Departure\tY\t97\nNormal\tN\t112"}]}},{"text":"%md\n## What's the impact of fog on driving?","dateUpdated":"2017-09-28T19:48:42+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":false,"results":[{"graph":{"mode":"multiBarChart","height":300,"optionOpen":true,"keys":[{"name":"grouped_events","index":0,"aggr":"sum"}],"values":[{"name":"none_hoursdriven_ok","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"grouped_events","index":0,"aggr":"sum"},"yAxis":{"name":"none_hoursdriven_ok","index":1,"aggr":"sum"}}}}],"enabled":true,"editorSetting":{"editOnDblClick":true,"language":"markdown"}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567133_353275120","id":"20150602-185736_1176020804","dateCreated":"2017-09-28T17:09:27+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6093","user":"anonymous","dateFinished":"2017-09-28T19:48:42+0000","dateStarted":"2017-09-28T19:48:42+0000","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>What&rsquo;s the impact of fog on driving?</h2>\n</div>"}]}},{"text":"%sql\n\n\n\nSELECT IF(((eventType = 'Lane Departure') OR (eventType = 'Overspeed') OR (eventType = 'Unsafe following distance') OR (eventType = 'Unsafe tail distance')),'Lane Departure', eventType) AS `grouped_events`, isFoggy AS `num_foggy`, SUM(1) AS sum_number_of_records FROM enrichedEvents enrichedEvents GROUP BY IF(((eventType = 'Lane Departure') OR (eventType = 'Overspeed') OR (eventType = 'Unsafe following distance') OR (eventType = 'Unsafe tail distance')),'Lane Departure', eventType), isFoggy","user":"anonymous","dateUpdated":"2017-09-28T19:48:42+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/sql","editorHide":false,"results":[{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"keys":[{"name":"grouped_events","index":0,"aggr":"sum"}],"values":[{"name":"sum_number_of_records","index":2,"aggr":"sum"}],"groups":[{"name":"num_foggy","index":1,"aggr":"sum"}],"scatter":{"xAxis":{"name":"grouped_events","index":0,"aggr":"sum"},"yAxis":{"name":"num_foggy","index":1,"aggr":"sum"}}}}],"enabled":true,"editorSetting":{"editOnDblClick":false,"language":"sql"}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567133_353275120","id":"20150603-005352_2051370027","dateCreated":"2017-09-28T17:09:27+0000","dateStarted":"2017-09-28T19:48:50+0000","dateFinished":"2017-09-28T19:48:52+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6094","results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"grouped_events\tnum_foggy\tsum_number_of_records\nLane Departure\t1\t111\nLane Departure\t0\t48\nNormal\t0\t1036\nNormal\t1\t164"}]}},{"text":"%md \n##What's the impact of rain on driving?","dateUpdated":"2017-09-28T19:48:42+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":false,"results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"editorSetting":{"editOnDblClick":true,"language":"markdown"}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567135_354044618","id":"20150603-082821_53714184","dateCreated":"2017-09-28T17:09:27+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6095","user":"anonymous","dateFinished":"2017-09-28T19:48:42+0000","dateStarted":"2017-09-28T19:48:42+0000","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>##What&rsquo;s the impact of rain on driving?</p>\n</div>"}]}},{"text":"%sql\n\nSELECT IF(((eventType = 'Lane Departure') OR (eventType = 'Overspeed') OR (eventType = 'Unsafe following distance') OR (eventType = 'Unsafe tail distance')),'Lane Departure', eventType) AS `grouped_events`, isRainy AS `none_rainy_ok`, SUM(1) AS `sum_number_of_records_ok` FROM enrichedEvents enrichedEvents GROUP BY IF(((eventType = 'Lane Departure') OR (eventType = 'Overspeed') OR (eventType = 'Unsafe following distance') OR (eventType = 'Unsafe tail distance')),'Lane Departure', eventType), isRainy","user":"anonymous","dateUpdated":"2017-09-28T19:48:42+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/sql","editorHide":false,"results":[{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"keys":[{"name":"grouped_events","index":0,"aggr":"sum"}],"values":[{"name":"sum_number_of_records_ok","index":2,"aggr":"sum"}],"groups":[{"name":"none_rainy_ok","index":1,"aggr":"sum"}],"scatter":{"xAxis":{"name":"grouped_events","index":0,"aggr":"sum"},"yAxis":{"name":"none_rainy_ok","index":1,"aggr":"sum"}}}}],"enabled":true,"editorSetting":{"editOnDblClick":false,"language":"sql"}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567136_339808909","id":"20150603-161651_886203277","dateCreated":"2017-09-28T17:09:27+0000","dateStarted":"2017-09-28T19:48:51+0000","dateFinished":"2017-09-28T19:48:53+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6096","results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"grouped_events\tnone_rainy_ok\tsum_number_of_records_ok\nLane Departure\t1\t96\nLane Departure\t0\t63\nNormal\t0\t1038\nNormal\t1\t162"}]}},{"text":"%md\n\n## What's the impact of wind on driving?","dateUpdated":"2017-09-28T19:48:42+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":false,"results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"editorSetting":{"editOnDblClick":true,"language":"markdown"}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567138_340578407","id":"20150603-085134_652083579","dateCreated":"2017-09-28T17:09:27+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6097","user":"anonymous","dateFinished":"2017-09-28T19:48:42+0000","dateStarted":"2017-09-28T19:48:42+0000","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>What&rsquo;s the impact of wind on driving?</h2>\n</div>"}]}},{"text":"%sql\n\nSELECT IF(((eventType = 'Lane Departure') OR (eventType = 'Overspeed') OR (eventType = 'Unsafe following distance') OR (eventType = 'Unsafe tail distance')),'Lane Departure', eventType) AS `grouped_events`, isWindy AS `none_windy_ok`, SUM(1) AS `sum_number_of_records_ok` FROM enrichedEvents enrichedEvents GROUP BY IF(((eventType = 'Lane Departure') OR (eventType = 'Overspeed') OR (eventType = 'Unsafe following distance') OR (eventType = 'Unsafe tail distance')),'Lane Departure', eventType), isWindy","user":"anonymous","dateUpdated":"2017-09-28T19:48:42+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/sql","editorHide":false,"results":[{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"keys":[{"name":"grouped_events","index":0,"aggr":"sum"}],"values":[{"name":"sum_number_of_records_ok","index":2,"aggr":"sum"}],"groups":[{"name":"none_windy_ok","index":1,"aggr":"sum"}],"scatter":{"xAxis":{"name":"grouped_events","index":0,"aggr":"sum"},"yAxis":{"name":"none_windy_ok","index":1,"aggr":"sum"}}}}],"enabled":true,"editorSetting":{"editOnDblClick":false,"language":"sql"}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567143_338654662","id":"20150603-085501_2095284086","dateCreated":"2017-09-28T17:09:27+0000","dateStarted":"2017-09-28T19:48:52+0000","dateFinished":"2017-09-28T19:48:54+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6098","results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"grouped_events\tnone_windy_ok\tsum_number_of_records_ok\nLane Departure\t1\t51\nLane Departure\t0\t108\nNormal\t0\t891\nNormal\t1\t309"}]}},{"text":"%md\n\n## Does location have any impact on incidents?","dateUpdated":"2017-09-28T19:48:42+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":false,"results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"editorSetting":{"editOnDblClick":true,"language":"markdown"}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567144_336730918","id":"20150612-103100_302525333","dateCreated":"2017-09-28T17:09:27+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6099","user":"anonymous","dateFinished":"2017-09-28T19:48:42+0000","dateStarted":"2017-09-28T19:48:42+0000","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Does location have any impact on incidents?</h2>\n</div>"}]}},{"text":"%sql\n\nselect lat, long1, eventType, isFoggy from enrichedEvents where eventType not in ('Normal') and isFoggy = 1 group by lat, long1, eventType, isFoggy ","dateUpdated":"2017-09-28T19:49:12+0000","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/sql","editorHide":false,"results":[{"graph":{"mode":"scatterChart","height":288,"optionOpen":true,"keys":[{"name":"eventType","index":2,"aggr":"sum"}],"values":[{"name":"long","index":1,"aggr":"sum"}],"groups":[{"name":"eventType","index":2,"aggr":"sum"}],"scatter":{"xAxis":{"name":"long","index":1,"aggr":"sum"},"yAxis":{"name":"lat","index":0,"aggr":"sum"},"group":{"name":"isFoggy","index":3,"aggr":"sum"}}}}],"enabled":true,"editorSetting":{"editOnDblClick":false,"language":"sql"}},"settings":{"params":{"eventType":"Unsafe tail distance"},"forms":{}},"apps":[],"jobName":"paragraph_1506618567145_336346169","id":"20150603-182617_1986095422","dateCreated":"2017-09-28T17:09:27+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:6100","user":"anonymous","dateFinished":"2017-09-28T19:49:13+0000","dateStarted":"2017-09-28T19:49:12+0000","results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"lat\tlong1\teventType\tisFoggy\n-91.33\t38.87\tUnsafe following ...\t1\n-89.52\t40.7\tOverspeed\t1\n-93.04\t41.71\tOverspeed\t1\n-91.33\t38.87\tUnsafe tail distance\t1\n-95.99\t36.17\tOverspeed\t1\n-88.42\t41.11\tLane Departure\t1\n-90.79\t38.83\tOverspeed\t1\n-88.42\t41.11\tUnsafe following ...\t1\n-90.52\t39.71\tOverspeed\t1\n-89.91\t40.86\tUnsafe tail distance\t1\n-94.38\t38.67\tUnsafe tail distance\t1\n-94.57\t35.37\tOverspeed\t1\n-95.5\t36.37\tLane Departure\t1\n-94.28\t39.53\tUnsafe tail distance\t1\n-89.52\t40.7\tUnsafe tail distance\t1\n-89.63\t39.84\tOverspeed\t1\n-87.67\t41.87\tOverspeed\t1\n-90.64\t41.56\tOverspeed\t1\n-89.03\t41.92\tUnsafe following ...\t1\n-90.04\t35.19\tUnsafe tail distance\t1\n-89.17\t40.38\tUnsafe following ...\t1\n-94.23\t37.09\tLane Departure\t1\n-90.04\t35.19\tOverspeed\t1\n-90.04\t35.19\tUnsafe following ...\t1\n-91.78\t42.23\tUnsafe following ...\t1\n-88.07\t41.48\tLane Departure\t1\n-90.79\t38.83\tUnsafe tail distance\t1\n-94.38\t38.99\tOverspeed\t1\n-94.88\t35.47\tOverspeed\t1\n-89.71\t37.47\tUnsafe tail distance\t1\n-89.03\t41.92\tLane Departure\t1\n-94.28\t39.53\tOverspeed\t1\n-89.54\t36.84\tOverspeed\t1\n-89.52\t40.7\tUnsafe following ...\t1\n-88.02\t42.04\tLane Departure\t1\n-90.79\t38.83\tUnsafe following ...\t1\n-90.04\t35.19\tLane Departure\t1\n-88.96\t42.25\tUnsafe tail distance\t1\n-90.34\t38.58\tOverspeed\t1\n-89.63\t39.84\tUnsafe tail distance\t1\n-91.18\t38.22\tUnsafe following ...\t1\n-91.33\t38.87\tLane Departure\t1\n-92.31\t34.78\tOverspeed\t1\n-89.91\t40.86\tOverspeed\t1\n-88.77\t40.76\tUnsafe tail distance\t1\n-90.64\t41.56\tUnsafe tail distance\t1\n-94.38\t38.67\tOverspeed\t1\n-91.59\t41.7\tLane Departure\t1\n-94.58\t37.03\tUnsafe following ...\t1\n-90.82\t41.66\tOverspeed\t1\n-94.23\t37.09\tUnsafe following ...\t1\n-95.99\t36.17\tUnsafe following ...\t1\n-90.64\t41.56\tLane Departure\t1\n-91.94\t41.71\tOverspeed\t1\n-94.57\t35.37\tUnsafe following ...\t1\n-91.94\t41.71\tUnsafe following ...\t1\n-89.03\t41.92\tOverspeed\t1\n-89.03\t41.92\tUnsafe tail distance\t1\n-91.18\t38.22\tLane Departure\t1\n-89.8\t35.94\tLane Departure\t1\n-89.91\t40.86\tLane Departure\t1\n-90.37\t35.21\tLane Departure\t1\n-89.52\t40.7\tLane Departure\t1\n-94.88\t35.47\tLane Departure\t1\n-94.57\t35.37\tLane Departure\t1\n-89.74\t39.1\tUnsafe tail distance\t1\n-92.99\t37.34\tOverspeed\t1\n-88.96\t42.25\tUnsafe following ...\t1\n-88.07\t41.48\tUnsafe tail distance\t1\n-92.31\t34.78\tUnsafe tail distance\t1\n-88.07\t41.48\tOverspeed\t1\n-87.67\t41.87\tUnsafe tail distance\t1\n-94.57\t35.37\tUnsafe tail distance\t1\n-92.4\t41.78\tLane Departure\t1"}]}},{"dateUpdated":"2017-09-28T17:09:27+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","tableHide":false,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"results":{},"editorSetting":{"editOnDblClick":false,"language":"scala"}},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1506618567149_334807173","id":"20150812-223911_1229239436","dateCreated":"2017-09-28T17:09:27+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:6101"}],"name":"IoT  Data Analysis (Keynote Demo)","id":"2CVXWAM2Z","angularObjects":{"2CWPGQ1TZ:shared_process":[],"2CW8VBHZM:shared_process":[],"2CW4YX784:shared_process":[],"2CX5917HJ:shared_process":[],"2CWPCEGCP:shared_process":[],"2CU9JCED1:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}